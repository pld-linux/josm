diff -dur josm-src-snapshot-4399.orig/build.xml josm-src-snapshot-4399/build.xml
--- josm-src-snapshot-4399.orig/build.xml	2011-09-16 12:58:47.000000000 +0200
+++ josm-src-snapshot-4399/build.xml	2011-09-16 14:36:01.000000000 +0200
@@ -41,17 +41,7 @@
 	  -->
     <target name="create-revision">
         <property name="revision.dir" value="${build.dir}"/>
-        <exec append="false" output="REVISION.XML" executable="svn" failifexecutionfails="false">
-            <env key="LANG" value="C"/>
-            <arg value="info"/>
-            <arg value="--xml"/>
-            <arg value="."/>
-        </exec>
-        <xmlproperty file="REVISION.XML" prefix="version" keepRoot="false" collapseAttributes="true"/>
-        <delete file="REVISION.XML"/>
-        <tstamp>
-            <format property="build.tstamp" pattern="yyyy-MM-dd HH:mm:ss"/>
-        </tstamp>
+        <loadfile property="version.entry.commit.revision" srcFile="rpm_version" />
         <property name="version.entry.commit.revision" value="UNKNOWN"/>
         <mkdir dir="${revision.dir}"/>
         <echo file="${revision.dir}/REVISION">
@@ -62,14 +52,7 @@
 </echo>
     </target>
     <target name="dist" depends="compile,create-revision">
-        <exec append="false" output="REVISION" executable="svn" failifexecutionfails="false">
-            <env key="LANG" value="C"/>
-            <arg value="info"/>
-            <arg value="--xml"/>
-            <arg value="."/>
-        </exec>
-        <xmlproperty file="REVISION" prefix="version" keepRoot="false" collapseAttributes="true"/>
-        <delete file="REVISION"/>
+        <loadfile property="version.entry.commit.revision" srcFile="rpm_version" />
         <property name="version.entry.commit.revision" value="UNKNOWN"/>
         <property name="version.entry.commit.date" value="UNKNOWN"/>
         <echo>Revision ${version.entry.commit.revision}</echo>
